
var trailArray = [
    {
    ascent: 1493,
    conditionStatus: "Minor Issues",
    county: "Pierce County",
    covidStatus: 2,
    descent: -1485,
    difficulty: "blueBlack",
    id: 7002140,
    image: "https://cdn2.apstatic.com/photos/hike/7011377_medium_1554559259.jpg",
    latitude: 46.787,
    length: 5.3,
    location: "Eatonville, Washington",
    longitude: -121.735,
    name: "Skyline Trail",
    starVotes: 91,
    stars: 4.8,
    url: "http://www.google.com",
    state: "Washington",
    summary: "A popular and easily accessible route, skirting the slopes of Mount Rainier and Paradise Glacier.",
    userImg: "https://cdn2.apstatic.com/photos/hike/7011377_medium_1554559259.jpg",
    popularity: 4,
    },
    {
    ascent: 1493,
    conditionStatus: "Minor Issues",
    county: "Pierce County",
    covidStatus: 1,
    descent: -1485,
    difficulty: "blueBlack",
    id: 7002140,
    image: "https://cdn2.apstatic.com/photos/hike/7011377_medium_1554559259.jpg",
    latitude: 46.787,
    length: 5.3,
    location: "Eatonville, Washington",
    longitude: -121.735,
    name: "Skyline Trail",
    starVotes: 91,
    stars: 4.8,
    state: "Washington",
    summary: "A popular and easily accessible route, skirting the slopes of Mount Rainier and Paradise Glacier.",
    userImg: "https://cdn2.apstatic.com/photos/hike/7011377_medium_1554559259.jpg",
    popularity: 4,
    },
    
    {
    ascent: 3281,
    conditionStatus: "All Clear",
    county: "King County",
    covidStatus: 2,
    descent: -3282,
    difficulty: "blueBlack",
    id: 7001016,
    image: "https://cdn2.apstatic.com/photos/hike/7004228_medium_1554244390.jpg",
    latitude: 47.4882,
    length: 6.6,
    location: "Tanner, Washington",
    longitude: -121.7233,
    name: "Mt. Si",
    starVotes: 110,
    stars: 4.4,
    state: "Washington",
    summary: "A steep, well-maintained trail takes you atop Mt. Si with outrageous views of Puget Sound.",
    userImg: "https://cdn2.apstatic.com/photos/hike/7004228_medium_1554244390.jpg",
    popularity: 5,
    },
    
    {
    ascent: 370,
    conditionStatus: "All Clear",
    county: "King County",
    covidStatus: 3,
    descent: -370,
    difficulty: "blue",
    id: 7019080,
    image: "https://cdn2.apstatic.com/photos/hike/7032460_medium_1554933260.jpg",
    latitude: 47.4527,
    length: 2.3,
    location: "Riverbend, Washington",
    longitude: -121.7053,
    name: "Twin Falls",
    starVotes: 68,
    stars: 4.3,
    state: "Washington",
    summary: "A classic family-friendly route through old growth trees with a spectacular waterfall in the mix.",
    userImg: "https://cdn2.apstatic.com/photos/hike/7032460_medium_1554933260.jpg",
    popularity: 5,
    },
    
    {
    ascent: 1619,
    conditionStatus: "All Clear",
    county: "King County",
    covidStatus: "3",
    descent: -1618,
    difficulty: "blueBlack",
    id: 7005406,
    image: "https://cdn2.apstatic.com/photos/hike/7004771_medium_1554310760.jpg",
    latitude: 47.4999,
    length: 3.9,
    location: "Issaquah, Washington",
    longitude: -122.0211,
    name: "Poo Poo Point via Chirico Trail",
    starVotes: 67,
    stars: 4.4,
    state: "Washington",
    summary: "A great place for a picnic and watching paragliders!",
    userImg: "https://cdn2.apstatic.com/photos/hike/7004771_medium_1554310760.jpg",
    popularity: 5,
    },
    
    {
    ascent: 3739,
    conditionStatus: "Unknown",
    county: "Clallam County",
    covidStatus: "1",
    descent: -3748,
    difficulty: "black",
    id: 7002051,
    image: "https://cdn2.apstatic.com/photos/hike/7001107_medium_1554217677.jpg",
    latitude: 47.9551,
    length: 17.6,
    location: "Forks, Washington",
    longitude: -123.8357,
    name: "High Divide Loop",
    starVotes: 51,
    stars: 4.9,
    state: "Washington",
    summary: "This loop is a superlative experience that you'll be eager to repeat.",
    userImg: "https://cdn2.apstatic.com/photos/hike/7001107_medium_1554217677.jpg",
    popularity: 3,
    },
    
    {
    ascent: 3848,
    conditionStatus: "All Clear",
    county: "King County",
    covidStatus: "",
    descent: -3848,
    difficulty: "black",
    id: 7005408,
    image: "https://cdn2.apstatic.com/photos/hike/7005310_medium_1554311893.jpg",
    latitude: 47.4666,
    length: 9.7,
    location: "Riverbend, Washington",
    longitude: -121.6739,
    name: "Mailbox Peak Trail",
    starVotes: 51,
    stars: 4.5,
    state: "Washington",
    summary: "An infamous (easier) hike with a mailbox (maintained by volunteers) at the top!",
    userImg: "https://cdn2.apstatic.com/photos/hike/7005310_medium_1554311893.jpg",
    popularity: 4,
    },
    
    {
    ascent: 3873,
    conditionStatus: "Minor Issues",
    county: "Skagit County",
    covidStatus: "",
    descent: -3872,
    difficulty: "black",
    id: 7013011,
    image: "https://cdn2.apstatic.com/photos/hike/7023891_medium_1554845849.jpg",
    latitude: 48.4755,
    length: 11.5,
    location: "Stehekin, Washington",
    longitude: -121.075,
    name: "Cascade Pass to Sahale Arm",
    starVotes: 34,
    stars: 5,
    state: "Washington",
    summary: "Climb steadily through endless switchbacks to an awe-inspiring pass with impressive peaks & glaciers",
    userImg: "https://cdn2.apstatic.com/photos/hike/7023891_medium_1554845849.jpg",
    popularity: 2,
    },
    
    {
    ascent: 2419,
    conditionStatus: "All Clear",
    county: "Snohomish County",
    covidStatus: "",
    descent: -2419,
    difficulty: "blue",
    id: 7003986,
    image: "https://cdn2.apstatic.com/photos/hike/7007441_medium_1554322863.jpg",
    latitude: 47.8669,
    length: 11.1,
    location: "Gold Bar, Washington",
    longitude: -121.6779,
    name: "Wallace Falls and Lake",
    starVotes: 48,
    stars: 4.2,
    state: "Washington",
    summary: "A popular trail system with trail access to both Wallace Falls and Wallace Lake.",
    userImg: "https://cdn2.apstatic.com/photos/hike/7007441_medium_1554322863.jpg",
    popularity: 1,
    },
    
    {
    ascent: 1295,
    conditionStatus: "Unknown",
    county: "Pierce County",
    covidStatus: "",
    descent: -1295,
    difficulty: "blueBlack",
    id: 7002181,
    image: "https://cdn2.apstatic.com/photos/hike/7027431_medium_1554916207.jpg",
    latitude: 46.9336,
    length: 5.6,
    location: "Eatonville, Washington",
    longitude: -121.8647,
    name: "Tolmie Peak",
    starVotes: 37,
    stars: 4.7,
    state: "Washington",
    summary: "A manageable out-and-back showcasing multiple lakes and panoramic views from atop Tolmie Peak.",
    userImg: "https://cdn2.apstatic.com/photos/hike/7027431_medium_1554916207.jpg",
    popularity: 2,
    }
    ]

    var riskL1 = "<span class='fas fa-circle checked icon'></span><span class='fas fa-circle icon'></span><span class='fas fa-circle icon'></span>";
      var riskL2 = "<span class='fas fa-circle checked icon'></span><span class='fas fa-circle checked icon'></span><span class='fas fa-circle icon'></span>";
      var riskL3 = "<span class='fas fa-circle checked icon'></span><span class='fas fa-circle checked icon'></span><span class='fas fa-circle checked icon'></span>"

      var popL1 = "<span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking icon'></span><span class='fas fa-hiking icon'></span><span class='fas fa-hiking icon'></span><span class='fas fa-hiking icon'></span>"
      var popL2 = "<span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking icon'></span><span class='fas fa-hiking icon'></span><span class='fas fa-hiking icon'></span>"
      var popL3 = "<span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking icon'></span><span class='fas fa-hiking icon'></span>"
      var popL4 = "<span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking icon'></span>"
      var popL5 = "<span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span><span class='fas fa-hiking checked icon'></span>"

    function populateTiles() {
      

        for (var i = 0; i < trailArray.length; i++){


          var trailTile = $("<div class='trail-tile'>");
          var imgBox = $("<div class='img-box'>");
          var trailImg = $("<img class='trail-img'>");
          var trailName = $("<h4 class='trail-name'>");
          var county = trailArray[i].county;
          $(trailName).text(trailArray[i].name)
          var trailInfo = $("<div class='trail-info'>");
          var pStatus = $("<p>");
          var spanStatus = $("<span class='status'>");
          var riskRatingP = $("<p class='risk-rating'>").text("Covid-19 factor: ");
          var circleChecked = $("<span class='fas fa-circle checked icon'>");
          var circleBlanked = $("<span class='fas fa-circle icon'>");
          var popularityRating = $("<p class='popularity'>").text("Popularity: ");
          var hikingCheck = $("<span class='fas fa-hiking checked icon'>");
          var hikingBlanked = $("<span class='fas fa-hiking icon'>");
          var countyP = $("<p>");
          var countySpan = $("<span class='county'>");

          

          $("#two").append(trailTile);
          $(trailTile).append(imgBox);
          $(trailTile).attr("data-trailid", trailArray[i].id)
          $(imgBox).append(trailImg);
          $(trailImg).attr("src", trailArray[i].image)
          $(trailTile).append(trailName);
          $(trailTile).append(trailInfo);
          $(trailInfo).append(pStatus);
          $(pStatus).append(spanStatus);
          $(trailInfo).append(riskRatingP);
          if (trailArray[i].covidStatus === 3) {
            $(riskRatingP).append(riskL3)
          } else if (trailArray[i].covidStatus === 2) {
            $(riskRatingP).append(riskL2)
          } else {
            console.log(trailArray[i].covidStatus)
            $(riskRatingP).append(riskL1)

          }
          
          $(trailInfo).append(popularityRating);

          if(trailArray[i].popularity === 1) {
            $(popularityRating).append(popL1)
          } else if (trailArray[i].popularity === 2){
            $(popularityRating).append(popL2)
          } else if(trailArray[i].popularity === 3){
            $(popularityRating).append(popL3)
          } else if(trailArray[i].popularity === 4){
            $(popularityRating).append(popL4)
          } else {
            $(popularityRating).append(popL5)
          }

          

          
         
          $(trailInfo).append(countyP)
          $(countyP).text("County: ");
          $(countySpan).text(county);
          $(countyP).append(countySpan);
          
          
          
            
      
      
        }
      
      
      
      }

    $( document ).ready(function() {

      populateTiles();
      $(".trail-tile").on("click", function () {

        $("#covid-rating").empty();
        $("#pop-rating").empty();

       
        var id = $(this).attr("data-trailid");
        console.log(id)
        var targetTrail = trailArray.find(item => item.id == id);
        console.log(targetTrail) 
        $("#modal-name").text(targetTrail.name);

        $(".status").text(targetTrail.conditionStatus);

        if (targetTrail.covidStatus === 3) {
          $("#covid-rating").append(riskL3)
        } else if (targetTrail.covidStatus === 2) {
          $("#covid-rating").append(riskL2)
        } else {
          $("#covid-rating").append(riskL1)
        }

        if (targetTrail.popularity === 1) {
          $("#pop-rating").append(popL1)
        } else if (targetTrail.popularity === 2){
          $("#pop-rating").append(popL2)
        } else if(targetTrail.popularity === 3){
          $("#pop-rating").append(popL3)
        } else if(targetTrail.popularity === 4){
          $("#pop-rating").append(popL4)
        } else {
          $("#pop-rating").append(popL5)
        }
       



        $("#difficulty").text(targetTrail.difficulty);
        $("#location").text(targetTrail.location);
        $("#summary").text(targetTrail.summary);
        $("#more-info").attr("href", targetTrail.url);
        $("#modal-image").attr("src", targetTrail.image);
        // Here we will need to populate the trail modal
    
        // activate modal
        $(".small.modal")
          .modal("setting", "transition", "vertical flip")
          .modal("toggle", "show-dimmer");
      });

    });